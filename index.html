<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ivan Apolinar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/framer-motion@10/dist/framer-motion.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            overflow-x: hidden;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes floatReverse {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
            }

            50% {
                transform: translateY(20px) rotate(-5deg);
            }
        }

        @keyframes pulse-glow {

            0%,
            100% {
                opacity: 0.5;
                transform: scale(1);
            }

            50% {
                opacity: 1;
                transform: scale(1.1);
            }
        }

        @keyframes gradient-shift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes particle-float {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100vh) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        .floating-reverse {
            animation: floatReverse 6s ease-in-out infinite;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: particle-float 15s linear infinite;
        }

        .hover-3d {
            transition: transform 0.3s ease;
            transform-style: preserve-3d;
        }

        /* Base Reveal Class */
        .reveal-base {
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
            opacity: 0;
            will-change: transform, opacity;
        }

        /* Slide Up (Default) */
        .reveal-up {
            transform: translateY(50px);
        }

        .reveal-up.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Slide From Left */
        .reveal-left {
            transform: translateX(-50px);
        }

        .reveal-left.active {
            opacity: 1;
            transform: translateX(0);
        }

        /* Slide From Right */
        .reveal-right {
            transform: translateX(50px);
        }

        .reveal-right.active {
            opacity: 1;
            transform: translateX(0);
        }

        /* Zoom In */
        .reveal-zoom {
            transform: scale(0.8);
        }

        .reveal-zoom.active {
            opacity: 1;
            transform: scale(1);
        }

        /* Rotate In */
        .reveal-rotate {
            transform: rotate(-5deg) scale(0.9);
        }

        .reveal-rotate.active {
            opacity: 1;
            transform: rotate(0) scale(1);
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        @keyframes gentle-float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        /* Continuous float for all cards */
        .glass-card {
            animation: gentle-float 6s ease-in-out infinite;
            will-change: transform;
        }

        .gradient-text {
            background: linear-gradient(135deg, #ff0080, #8000ff, #00bfff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .gradient-bg {
            background: linear-gradient(-45deg, #ff0080, #8000ff, #00bfff, #ff0080);
            background-size: 400% 400%;
            animation: gradient-shift 15s ease infinite;
        }
    </style>
</head>

<body class="bg-black text-white">
    <div class="relative w-full min-h-screen overflow-hidden">
        <!-- Fondo animado -->
        <div class="fixed inset-0 overflow-hidden z-0">
            <div id="animated-bg" class="absolute inset-0 opacity-40"></div>
            <div id="particles" class="absolute inset-0"></div>
        </div>

        <!-- Barra de progreso -->
        <div class="fixed top-0 left-0 right-0 h-1 bg-gray-900 z-50">
            <div id="progress-bar"
                class="h-full bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 transition-all duration-300"
                style="width: 0%"></div>
        </div>

        <!-- Navegaci√≥n -->
        <nav class="fixed top-8 left-1/2 transform -translate-x-1/2 z-40 w-11/12 max-w-fit">
            <div id="nav-container"
                class="flex gap-2 bg-black/60 backdrop-blur-xl rounded-full p-2 border border-white/20 shadow-2xl overflow-x-auto">
                <!-- Nav items generated by JS -->
            </div>
        </nav>

        <!-- Contenido principal -->
        <div id="main-content" class="relative z-10">
            <!-- Sections generated by JS -->
        </div>

        <!-- Footer -->
        <footer class="py-12 px-8 border-t border-white/10">
            <div class="max-w-6xl mx-auto text-center">
                <p class="text-gray-400 mb-4" id="footer-text"></p>
                <p class="text-gray-500 text-sm">
                    ¬© <span id="current-year"></span> Todos los derechos reservados
                </p>
            </div>
        </footer>
    </div>

    <script>
        // --- DATOS DEL PORTAFOLIO (EDITA AQU√ç) ---
        const portfolioData = {
            personal: {
                name: "IVAN APOLINAR",
                initials: "IA",
                photo: "./Ivan  img.jpeg",
                title: "Analista Data M.B.A",
                age_location: "Tehuac√°n, Puebla, M√©xico",
                bio: "Estratega operativo y analista de datos aplicado a negocios, con amplia experiencia en creaci√≥n, estructuraci√≥n y escalamiento de proyectos reales en transporte, servicios, comercio y atenci√≥n al cliente.",
                email: "vanchysz1@gmail.com",
                cv_link: "./Ivan Apolinar CV.pdf"
            },
            sections: [
                { id: 'hero', icon: 'üè†', label: 'Inicio' },
                { id: 'about', icon: 'üë§', label: 'Sobre M√≠' },
                { id: 'experience', icon: 'üíº', label: 'Experiencia' },
                { id: 'skills', icon: '‚≠ê', label: 'Habilidades' },
                { id: 'projects', icon: 'üìÅ', label: 'Proyectos' },
                { id: 'contact', icon: 'üìß', label: 'Contacto' }
            ],
            about: {
                main: "Me especializo en convertir ideas en operaciones funcionales: estructuro procesos, asigno personas, implemento sistemas, analizo informaci√≥n y dise√±o estrategias que permiten que los negocios operen de forma sostenible y semi-automatizada.",
                secondary: "Soy una persona tranquila, emp√°tica y anal√≠tica. Mi experiencia en trato directo con clientes y equipos de trabajo me ha permitido desarrollar escucha activa genuina y comprensi√≥n de problemas cotidianos, buscando siempre soluciones claras y efectivas.",
                philosophy: {
                    title: "Filosof√≠a de Trabajo",
                    description: "Aportar valor primero, estructurar correctamente y permitir que el tiempo y la constancia multipliquen los resultados en personas, proyectos y relaciones."
                }
            },
            experience: [
                { year: "10 A√±os", description: "Socio Fundador de Smart Transport. Operaci√≥n general, log√≠stica, estructura de rutas, atenci√≥n a clientes y toma de decisiones estrat√©gicas." },
                { year: "7 A√±os", description: "Fundador de Operadora Tur√≠stica Tehuac√°n ‚Äì Oaxaca. Fundador de ruta y gesti√≥n operativa." },
                { year: "Actual", description: "Propietario de Tienda de Abarrotes. Administraci√≥n diaria, ventas, control de personal y operaci√≥n." },
                { year: "Previo", description: "Experiencia operativa en ventas y distribuci√≥n en empresas como Pepsico, Alpura y Big Cola." }
            ],
            skills: [
                { name: "An√°lisis de Datos", symbol: "üìä", percentage: 95, iconType: "emoji" },
                { name: "Op. de Negocios", symbol: "‚öôÔ∏è", percentage: 90, iconType: "emoji" },
                { name: "Inteligencia Artificial", symbol: "ü§ñ", percentage: 85, iconType: "emoji" },
                { name: "Marketing Digital", symbol: "üìà", percentage: 80, iconType: "emoji" },
                { name: "Excel Avanzado", symbol: "Xls", percentage: 90, iconType: "text" },
                { name: "Desarrollo No-Code", symbol: "üíª", percentage: 75, iconType: "emoji" }
            ],
            projects: [
                {
                    title: "Smart Transport",
                    desc: "Base operativa y log√≠stica para m√∫ltiples emprendimientos. Operaci√≥n y estrategia.",
                    tags: ["Log√≠stica", "Estrategia", "Gesti√≥n"],
                    gradient: "from-pink-500 to-purple-500"
                },
                {
                    title: "Automatizaci√≥n con IA",
                    desc: "Scripts con API de Claude para transformar datos y automatizar procesos.",
                    tags: ["AI", "Claude API", "Python"],
                    gradient: "from-purple-500 to-cyan-500"
                },
                {
                    title: "Luxor Travel",
                    desc: "Modelo de negocio escalable con inversi√≥n para transporte.",
                    tags: ["Scalability", "Business Model", "Investment"],
                    gradient: "from-cyan-500 to-pink-500"
                }
            ],
            education: [],
            contact: {
                info: [
                    { icon: "üìç", text: "Tehuac√°n, Puebla, M√©xico", link: "https://www.google.com/maps/place/Tehuac%C3%A1n,+Puebla" },
                    { icon: "üì±", text: "238 238 2982", link: "https://wa.me/522382382982" },
                    { icon: "‚úâÔ∏è", text: "vanchysz1@gmail.com", link: "mailto:vanchysz1@gmail.com" },
                    { icon: "f", text: "Perfil Facebook", link: "https://www.facebook.com/share/17ivmizthS/" }
                ],
                hobbies: [
                    { icon: "üèà", name: "F√∫tbol Americano" },
                    { icon: "ü•ä", name: "Boxeo" },
                    { icon: "üéÆ", name: "Videojuegos" },
                    { icon: "‚úàÔ∏è", name: "Viajes" }
                ],
                languages: [
                    { flag: "üá≤üáΩ", border: "pink-500" },
                    { flag: "üá∫üá∏", border: "purple-500" }
                ]
            }
        };

        // --- RENDERIZADO ---

        function renderNav() {
            const container = document.getElementById('nav-container');
            container.innerHTML = portfolioData.sections.map(section => `
                <button onclick="scrollToSection('${section.id}')" class="nav-btn flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 text-gray-400 hover:text-white shrink-0">
                    <span>${section.icon}</span> <span class="hidden md:inline">${section.label}</span>
                </button>
            `).join('');
        }

        function renderContent() {
            const main = document.getElementById('main-content');
            let html = '';

            // Hero
            html += `
                <section id="hero" class="min-h-screen flex items-center justify-center px-8 relative">
                    <div class="max-w-6xl mx-auto text-center reveal-base reveal-zoom">
                        <div class="relative inline-block mb-8 mt-40 floating">
                            <div class="absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 rounded-full blur-3xl opacity-50 animate-pulse"></div>
                            <div class="relative w-64 h-64 rounded-full bg-gradient-to-r from-pink-500 to-cyan-500 p-1">
                                <div class="w-full h-full rounded-full bg-black flex items-center justify-center overflow-hidden">
                                    ${portfolioData.personal.photo ?
                    `<img src="${portfolioData.personal.photo}" alt="${portfolioData.personal.name}" class="w-full h-full object-cover">` :
                    `<div class="text-8xl font-bold gradient-text">${portfolioData.personal.initials}</div>`
                }
                                </div>
                            </div>
                        </div>
                        <h1 class="text-7xl md:text-9xl font-bold mb-6 gradient-text animate-pulse">
                            ${portfolioData.personal.name}
                        </h1>
                        <p class="text-3xl md:text-4xl text-purple-300 mb-2 font-light">
                            ${portfolioData.personal.title}
                        </p>
                        <p class="text-lg text-gray-400 mb-4">
                            ${portfolioData.personal.age_location}
                        </p>
                        <p class="text-xl text-gray-400 mb-12 max-w-2xl mx-auto">
                            ${portfolioData.personal.bio}
                        </p>
                        <div class="flex flex-wrap gap-4 justify-center">
                            <a href="#contact" class="flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 rounded-full text-white font-semibold shadow-2xl shadow-pink-500/50 hover:scale-105 transition-transform">
                                üìß Cont√°ctame
                            </a>
                            ${portfolioData.personal.cv_link ? `
                            <a href="${portfolioData.personal.cv_link}" download="Ivan_Apolinar_CV.pdf" class="flex items-center gap-2 px-8 py-4 bg-white/10 backdrop-blur-xl rounded-full text-white font-semibold border border-white/20 hover:bg-white/20 transition-all">
                                üìÑ Descargar CV
                            </a>` : ''}
                        </div>
                    </div>
                </section>
            `;

            // About
            html += `
                <section id="about" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Sobre M√≠</h2>
                        <div class="grid md:grid-cols-2 gap-12 items-center">
                            <div class="glass-card rounded-3xl p-8 hover-3d reveal-base reveal-left">
                                <p class="text-gray-300 text-lg leading-relaxed mb-4">${portfolioData.about.main}</p>
                                <p class="text-gray-300 text-lg leading-relaxed mb-6">${portfolioData.about.secondary}</p>
                                <div class="flex gap-4">
                                    <a href="#" class="p-4 bg-white/10 rounded-full hover:bg-pink-500 transition-all duration-300 hover:scale-110"><span class="text-2xl">üêô</span></a>
                                    <a href="#" class="p-4 bg-white/10 rounded-full hover:bg-cyan-500 transition-all duration-300 hover:scale-110"><span class="text-2xl">üíº</span></a>
                                </div>
                            </div>
                            <div class="relative reveal-base reveal-right">
                                <div class="absolute inset-0 bg-gradient-to-r from-pink-500/30 via-purple-500/30 to-cyan-500/30 rounded-3xl blur-3xl animate-pulse"></div>
                                <div class="relative glass-card rounded-3xl p-8">
                                    <div class="text-5xl mb-4">üíª</div>
                                    <h3 class="text-2xl font-bold text-white mb-4">${portfolioData.about.philosophy.title}</h3>
                                    <p class="text-gray-300">${portfolioData.about.philosophy.description}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `;

            // Experience
            const expItems = portfolioData.experience.map((item, index) => {
                const animClass = index % 2 === 0 ? 'reveal-left' : 'reveal-right';
                return `
                <div class="flex flex-col md:flex-row gap-6 items-start glass-card rounded-2xl p-6 hover-3d reveal-base ${animClass}" style="animation-delay: ${Math.random() * 2}s">
                    <div class="bg-gradient-to-r from-pink-500 to-purple-500 text-white px-6 py-3 rounded-xl font-bold text-lg min-w-[80px] text-center shadow-lg shadow-pink-500/50">
                        ${item.year}
                    </div>
                    <p class="text-gray-300 text-lg leading-relaxed flex-1 pt-2">
                        ${item.description}
                    </p>
                </div>
            `}).join('');

            html += `
                <section id="experience" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-zoom">Experiencia y Logros</h2>
                        <div class="space-y-6">${expItems}</div>
                    </div>
                </section>
            `;

            // Skills
            const skillItems = portfolioData.skills.map((skill, index) => `
                <div class="glass-card rounded-2xl p-6 hover-3d reveal-base reveal-rotate" style="transition-delay: ${index * 100}ms; animation-delay: ${Math.random() * 2}s">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            ${skill.iconType === 'text'
                    ? `<span class="text-3xl font-bold gradient-text">${skill.symbol}</span>`
                    : `<span class="text-3xl">${skill.symbol}</span>`
                }
                            <span class="text-xl font-semibold text-white">${skill.name}</span>
                        </div>
                        <span class="text-2xl font-bold text-pink-400">${skill.percentage}%</span>
                    </div>
                    <div class="w-full bg-gray-800 rounded-full h-3 overflow-hidden">
                        <div class="h-full bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 rounded-full" style="width: ${skill.percentage}%"></div>
                    </div>
                </div>
            `).join('');

            html += `
                <section id="skills" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Habilidades</h2>
                        <div class="grid md:grid-cols-2 gap-8">${skillItems}</div>
                    </div>
                </section>
            `;

            // Projects
            const projectItems = portfolioData.projects.map((proj, index) => `
                <div class="glass-card rounded-2xl overflow-hidden hover-3d reveal-base reveal-zoom" style="transition-delay: ${index * 100}ms; animation-delay: ${Math.random() * 2}s">
                    <div class="h-48 bg-gradient-to-br ${proj.gradient}"></div>
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-white mb-2">${proj.title}</h3>
                        <p class="text-gray-400 mb-4">${proj.desc}</p>
                        <div class="flex flex-wrap gap-2">
                            ${proj.tags.map(tag => `<span class="px-3 py-1 bg-pink-500/20 text-pink-300 rounded-full text-sm">${tag}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `).join('');

            html += `
                <section id="projects" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Proyectos Destacados</h2>
                        <div class="grid md:grid-cols-3 gap-8">${projectItems}</div>
                    </div>
                </section>
            `;

            // Education
            const eduItems = portfolioData.education.map((edu, index) => `
                <div class="glass-card rounded-2xl p-6 border-l-4 border-pink-500 hover-3d reveal-base reveal-left" style="transition-delay: ${index * 100}ms; animation-delay: ${Math.random() * 2}s">
                    <div class="bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 py-2 rounded-lg inline-block mb-4 font-bold shadow-lg shadow-pink-500/50">
                        ${edu.period}
                    </div>
                    <h3 class="text-2xl font-bold gradient-text mb-2">${edu.school}</h3>
                    <p class="text-gray-300 mb-1">${edu.degree}</p>
                    <p class="text-gray-500 text-sm">${edu.field}</p>
                </div>
            `).join('');

            html += `
                <!-- Education section removed -->
            `;

            // Contact
            const contactInfos = portfolioData.contact.info.map(info => {
                const content = `
                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center shadow-lg shadow-pink-500/50 shrink-0">
                        ${info.icon}
                    </div>
                    <span class="text-gray-300 break-all">${info.text}</span>
                `;

                if (info.link) {
                    return `
                        <a href="${info.link}" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5 hover:border-pink-500/50 transition-all hover:bg-white/10 cursor-pointer">
                            ${content}
                        </a>
                    `;
                }

                return `
                    <div class="flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5 hover:border-pink-500/50 transition-all">
                        ${content}
                    </div>
                `;
            }).join('');

            const hobbiesItems = portfolioData.contact.hobbies.map(hobby => `
                <div class="flex items-center gap-3 p-4 bg-white/5 rounded-xl border border-white/5 hover:border-cyan-500/50 transition-all">
                    <span class="text-2xl">${hobby.icon}</span>
                    <span class="text-gray-300">${hobby.name}</span>
                </div>
            `).join('');

            const langItems = portfolioData.contact.languages.map(lang => `
                <div class="w-16 h-16 rounded-full border-2 border-${lang.border} flex items-center justify-center text-3xl bg-white/5 hover:scale-125 transition-transform">${lang.flag}</div>
            `).join('');

            html += `
                <section id="contact" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Contacto</h2>
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="glass-card rounded-2xl p-6 reveal-base reveal-left" style="animation-delay: ${Math.random() * 2}s">
                                <h3 class="text-2xl font-bold text-white mb-6">Informaci√≥n de Contacto</h3>
                                <div class="space-y-4">${contactInfos}</div>
                            </div>
                            <div class="glass-card rounded-2xl p-6 reveal-base reveal-right" style="transition-delay: 200ms; animation-delay: ${Math.random() * 2}s">
                                <h3 class="text-2xl font-bold text-white mb-6">Pasatiempos</h3>
                                <div class="grid grid-cols-2 gap-4 mb-8">${hobbiesItems}</div>
                                <div>
                                    <h4 class="text-xl font-bold text-white mb-4">Idiomas</h4>
                                    <div class="flex gap-4 flex-wrap">${langItems}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `;

            main.innerHTML = html;

            // Re-initialize 3D Hover effects for new elements
            init3DHover();
            initScrollReveal();
        }

        function init3DHover() {
            document.querySelectorAll('.hover-3d').forEach(el => {
                el.addEventListener('mousemove', (e) => {
                    const rect = el.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    const rotateX = (y - centerY) / 10;
                    const rotateY = (centerX - x) / 10;
                    el.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(20px)`;
                });
                el.addEventListener('mouseleave', () => {
                    el.style.transform = '';
                });
            });
        }

        function initScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    } else {
                        // Remove active class to reset animation when out of view
                        entry.target.classList.remove('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal-base').forEach(el => observer.observe(el));
        }

        // Initialize
        renderNav();
        renderContent();
        document.getElementById('footer-text').innerText = `Dise√±ado y desarrollado con ‚ù§Ô∏è por ${portfolioData.personal.name}`;
        document.getElementById('current-year').innerText = new Date().getFullYear();


        // Animaci√≥n de fondo con mouse
        let mouseX = 0, mouseY = 0;
        document.addEventListener('mousemove', (e) => {
            mouseX = (e.clientX / window.innerWidth) * 2 - 1;
            mouseY = (e.clientY / window.innerHeight) * 2 - 1;
            updateBackground();
        });

        function updateBackground() {
            const bg = document.getElementById('animated-bg');
            bg.style.background = `
                radial-gradient(circle at ${50 + mouseX * 20}% ${50 + mouseY * 20}%, #ff0080 0%, transparent 50%),
                radial-gradient(circle at ${30 - mouseX * 15}% ${70 - mouseY * 15}%, #8000ff 0%, transparent 50%),
                radial-gradient(circle at ${70 + mouseX * 10}% ${30 + mouseY * 10}%, #00bfff 0%, transparent 50%)
            `;
        }

        // Part√≠culas
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 30; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.width = Math.random() * 4 + 2 + 'px';
            particle.style.height = particle.style.width;
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.background = 'white';
            particle.style.opacity = Math.random() * 0.5 + 0.2;
            particle.style.animationDelay = Math.random() * 5 + 's';
            particle.style.animationDuration = Math.random() * 10 + 10 + 's';
            particlesContainer.appendChild(particle);
        }

        // Barra de progreso
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrolled / maxScroll) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
        });

        // Navegaci√≥n suave
        window.scrollToSection = function (id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
            // Actualizar botones activos
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-gradient-to-r', 'from-pink-500', 'via-purple-500', 'to-cyan-500', 'text-white');
                btn.classList.add('text-gray-400');
            });
        }

        updateBackground();

        // --- AUDIO Y SCROLL INTERACTIVO ---

        // Elementos de audio
        const bgMusic = new Audio('interestelar.mp3');
        bgMusic.loop = true;
        bgMusic.volume = 0.8; // 80% Volumen

        // Sonidos invertidos: Down usa 2.mp3, Up usa 1.mp3
        const scrollDownSound = new Audio('2.mp3');
        const scrollUpSound = new Audio('1.mp3');
        scrollDownSound.volume = 0.5; // 50% Volumen
        scrollUpSound.volume = 0.5;   // 50% Volumen

        // Manejo de m√∫sica de fondo (Autoplay policy fix)
        let musicStarted = false;

        function startMusic() {
            if (!musicStarted) {
                bgMusic.play().then(() => {
                    musicStarted = true;
                    console.log("M√∫sica de fondo iniciada");
                }).catch(e => {
                    console.log("Autoplay bloqueado, esperando interacci√≥n");
                });
            }
        }

        // Intentar iniciar m√∫sica con cualquier interacci√≥n
        document.body.addEventListener('click', startMusic, { once: true });
        document.body.addEventListener('scroll', startMusic, { once: true });
        window.addEventListener('scroll', startMusic, { once: true });


        // Control de Visibilidad del Texto Bio (Mantenemos scroll simple para esto)
        window.addEventListener('scroll', () => {
            const st = window.pageYOffset || document.documentElement.scrollTop;

            // Visibilidad del Texto Bio
            const bioText = document.getElementById('bio-text');
            if (bioText) {
                const viewportHeight = window.innerHeight;
                // Si el scroll supera la mitad de la altura de la ventana
                if (st > viewportHeight / 2) {
                    bioText.classList.remove('opacity-0', 'translate-y-10');
                    bioText.classList.add('opacity-100', 'translate-y-0');
                } else {
                    bioText.classList.add('opacity-0', 'translate-y-10');
                    bioText.classList.remove('opacity-100', 'translate-y-0');
                }
            }
        }, false);


        // Control de Sonidos por Secciones (Intersection Observer)
        // Solo suena una vez al cambiar de secci√≥n

        // Esperar a que el contenido se renderice antes de buscar secciones
        setTimeout(() => {
            const sections = document.querySelectorAll('section');
            let currentSectionIndex = 0;

            const audioSectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const newIndex = Array.from(sections).indexOf(entry.target);

                        // Solo sonar si cambiamos de secci√≥n (ignorando la carga inicial si es el top)
                        if (newIndex !== -1 && newIndex !== currentSectionIndex) {

                            if (newIndex > currentSectionIndex) {
                                // Bajando
                                scrollDownSound.currentTime = 0;
                                scrollDownSound.play().catch(() => { });
                            } else if (newIndex < currentSectionIndex) {
                                // Subiendo
                                scrollUpSound.currentTime = 0;
                                scrollUpSound.play().catch(() => { });
                            }

                            currentSectionIndex = newIndex;
                        }
                    }
                });
            }, {
                threshold: 0.3 // Detectar cuando el 30% de la secci√≥n es visible
            });

            sections.forEach(section => audioSectionObserver.observe(section));
        }, 100);


        // Modificar renderContent para inyectar ID y Clases al Bio
        const originalRenderContent = renderContent;
        renderContent = function () {
            // Ejecutar la original para generar el DOM
            const main = document.getElementById('main-content');
            let html = '';

            // Hero
            html += `
                <section id="hero" class="min-h-screen flex items-center justify-center px-8 relative">
                    <div class="max-w-6xl mx-auto text-center reveal-base reveal-zoom">
                        <div class="relative inline-block mb-8 mt-40 floating">
                            <div class="absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 rounded-full blur-3xl opacity-50 animate-pulse"></div>
                            <div class="relative w-64 h-64 rounded-full bg-gradient-to-r from-pink-500 to-cyan-500 p-1">
                                <div class="w-full h-full rounded-full bg-black flex items-center justify-center overflow-hidden">
                                    ${portfolioData.personal.photo ?
                    `<img src="${portfolioData.personal.photo}" alt="${portfolioData.personal.name}" class="w-full h-full object-cover">` :
                    `<div class="text-8xl font-bold gradient-text">${portfolioData.personal.initials}</div>`
                }
                                </div>
                            </div>
                        </div>
                        <h1 class="text-7xl md:text-9xl font-bold mb-6 gradient-text animate-pulse">
                            ${portfolioData.personal.name}
                        </h1>
                        <p class="text-3xl md:text-4xl text-purple-300 mb-2 font-light">
                            ${portfolioData.personal.title}
                        </p>
                        <p class="text-lg text-gray-400 mb-4">
                            ${portfolioData.personal.age_location}
                        </p>
                        <!-- MODIFICADO: ID agregado y clases de ocultamiento inicial -->
                        <p id="bio-text" class="text-xl text-gray-400 mb-12 max-w-2xl mx-auto transition-all duration-1000 opacity-0 translate-y-10">
                            ${portfolioData.personal.bio}
                        </p>
                        <div class="flex flex-wrap gap-4 justify-center">
                            <a href="#contact" class="flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 rounded-full text-white font-semibold shadow-2xl shadow-pink-500/50 hover:scale-105 transition-transform">
                                üìß Cont√°ctame
                            </a>
                            ${portfolioData.personal.cv_link ? `
                            <a href="${portfolioData.personal.cv_link}" download="Ivan_Apolinar_CV.pdf" class="flex items-center gap-2 px-8 py-4 bg-white/10 backdrop-blur-xl rounded-full text-white font-semibold border border-white/20 hover:bg-white/20 transition-all">
                                üìÑ Descargar CV
                            </a>` : ''}
                        </div>
                    </div>
                </section>
            `;

            // About
            html += `
                <section id="about" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Sobre M√≠</h2>
                        <div class="grid md:grid-cols-2 gap-12 items-center">
                            <div class="glass-card rounded-3xl p-8 hover-3d reveal-base reveal-left">
                                <p class="text-gray-300 text-lg leading-relaxed mb-4">${portfolioData.about.main}</p>
                                <p class="text-gray-300 text-lg leading-relaxed mb-6">${portfolioData.about.secondary}</p>
                                <div class="flex gap-4">
                                    <a href="#" class="p-4 bg-white/10 rounded-full hover:bg-pink-500 transition-all duration-300 hover:scale-110"><span class="text-2xl">üêô</span></a>
                                    <a href="#" class="p-4 bg-white/10 rounded-full hover:bg-cyan-500 transition-all duration-300 hover:scale-110"><span class="text-2xl">üíº</span></a>
                                </div>
                            </div>
                            <div class="relative reveal-base reveal-right">
                                <div class="absolute inset-0 bg-gradient-to-r from-pink-500/30 via-purple-500/30 to-cyan-500/30 rounded-3xl blur-3xl animate-pulse"></div>
                                <div class="relative glass-card rounded-3xl p-8">
                                    <div class="text-5xl mb-4">üíª</div>
                                    <h3 class="text-2xl font-bold text-white mb-4">${portfolioData.about.philosophy.title}</h3>
                                    <p class="text-gray-300">${portfolioData.about.philosophy.description}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `;

            // Experience
            const expItems = portfolioData.experience.map((item, index) => {
                const animClass = index % 2 === 0 ? 'reveal-left' : 'reveal-right';
                return `
                <div class="flex flex-col md:flex-row gap-6 items-start glass-card rounded-2xl p-6 hover-3d reveal-base ${animClass}" style="animation-delay: ${Math.random() * 2}s">
                    <div class="bg-gradient-to-r from-pink-500 to-purple-500 text-white px-6 py-3 rounded-xl font-bold text-lg min-w-[80px] text-center shadow-lg shadow-pink-500/50">
                        ${item.year}
                    </div>
                    <p class="text-gray-300 text-lg leading-relaxed flex-1 pt-2">
                        ${item.description}
                    </p>
                </div>
            `}).join('');

            html += `
                <section id="experience" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-zoom">Experiencia y Logros</h2>
                        <div class="space-y-6">${expItems}</div>
                    </div>
                </section>
            `;

            // Skills
            const skillItems = portfolioData.skills.map((skill, index) => `
                <div class="glass-card rounded-2xl p-6 hover-3d reveal-base reveal-rotate" style="transition-delay: ${index * 100}ms; animation-delay: ${Math.random() * 2}s">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            ${skill.iconType === 'text'
                    ? `<span class="text-3xl font-bold gradient-text">${skill.symbol}</span>`
                    : `<span class="text-3xl">${skill.symbol}</span>`
                }
                            <span class="text-xl font-semibold text-white">${skill.name}</span>
                        </div>
                        <span class="text-2xl font-bold text-pink-400">${skill.percentage}%</span>
                    </div>
                    <div class="w-full bg-gray-800 rounded-full h-3 overflow-hidden">
                        <div class="h-full bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 rounded-full" style="width: ${skill.percentage}%"></div>
                    </div>
                </div>
            `).join('');

            html += `
                <section id="skills" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Habilidades</h2>
                        <div class="grid md:grid-cols-2 gap-8">${skillItems}</div>
                    </div>
                </section>
            `;

            // Projects
            const projectItems = portfolioData.projects.map((proj, index) => `
                <div class="glass-card rounded-2xl overflow-hidden hover-3d reveal-base reveal-zoom" style="transition-delay: ${index * 100}ms; animation-delay: ${Math.random() * 2}s">
                    <div class="h-48 bg-gradient-to-br ${proj.gradient}"></div>
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-white mb-2">${proj.title}</h3>
                        <p class="text-gray-400 mb-4">${proj.desc}</p>
                        <div class="flex flex-wrap gap-2">
                            ${proj.tags.map(tag => `<span class="px-3 py-1 bg-pink-500/20 text-pink-300 rounded-full text-sm">${tag}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `).join('');

            html += `
                <section id="projects" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Proyectos Destacados</h2>
                        <div class="grid md:grid-cols-3 gap-8">${projectItems}</div>
                    </div>
                </section>
            `;

            // Education section removed

            // Contact
            const contactInfos = portfolioData.contact.info.map(info => {
                const content = `
                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center shadow-lg shadow-pink-500/50 shrink-0">
                        ${info.icon}
                    </div>
                    <span class="text-gray-300 break-all">${info.text}</span>
                `;

                if (info.link) {
                    return `
                        <a href="${info.link}" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5 hover:border-pink-500/50 transition-all hover:bg-white/10 cursor-pointer">
                            ${content}
                        </a>
                    `;
                }

                return `
                    <div class="flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5 hover:border-pink-500/50 transition-all">
                        ${content}
                    </div>
                `;
            }).join('');

            const hobbiesItems = portfolioData.contact.hobbies.map(hobby => `
                <div class="flex items-center gap-3 p-4 bg-white/5 rounded-xl border border-white/5 hover:border-cyan-500/50 transition-all">
                    <span class="text-2xl">${hobby.icon}</span>
                    <span class="text-gray-300">${hobby.name}</span>
                </div>
            `).join('');

            const langItems = portfolioData.contact.languages.map(lang => `
                <div class="w-16 h-16 rounded-full border-2 border-${lang.border} flex items-center justify-center text-3xl bg-white/5 hover:scale-125 transition-transform">${lang.flag}</div>
            `).join('');

            html += `
                <section id="contact" class="min-h-screen flex items-center justify-center px-8 py-20">
                    <div class="max-w-6xl mx-auto w-full">
                        <h2 class="text-5xl md:text-6xl font-bold mb-16 text-center gradient-text reveal-base reveal-up">Contacto</h2>
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="glass-card rounded-2xl p-6 reveal-base reveal-left" style="animation-delay: ${Math.random() * 2}s">
                                <h3 class="text-2xl font-bold text-white mb-6">Informaci√≥n de Contacto</h3>
                                <div class="space-y-4">${contactInfos}</div>
                            </div>
                            <div class="glass-card rounded-2xl p-6 reveal-base reveal-right" style="transition-delay: 200ms; animation-delay: ${Math.random() * 2}s">
                                <h3 class="text-2xl font-bold text-white mb-6">Pasatiempos</h3>
                                <div class="grid grid-cols-2 gap-4 mb-8">${hobbiesItems}</div>
                                <div>
                                    <h4 class="text-xl font-bold text-white mb-4">Idiomas</h4>
                                    <div class="flex gap-4 flex-wrap">${langItems}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `;

            main.innerHTML = html;

            init3DHover();
            initScrollReveal();
        };
    </script>
</body>

</html>
